# See https://pre-commit.com for more information
# See https://pre-commit.com/hooks.html for more hooks
repos:
- repo: https://github.com/ambv/black
  rev: stable
  hooks:
  - id: black
    language_version: python3.9
- repo: https://github.com/pycqa/flake8
  rev: ''  # pick a git hash / tag to point to
  hooks:
  - id: flake8
- repo: https://github.com/pre-commit/mirrors-pylint
  rev: v3.0.0a3
  hooks:
  - id: pylint
    args: [--disable=all, --enable=unused-import]
#- repo: https://github.com/pre-commit/mirrors-mypy
#  rev: v0.910
#  hooks:
#    - id: mypy
#      exclude: ^tests/
#      args: [--strict]
- repo: local
  # We do not use pre-commit/mirrors-mypy, 
  # as it comes with opinionated defaults 
  # (like --ignore-missing-imports)
  # and is difficult to configure to run 
  # with the dependencies correctly installed.
  hooks:
    - id: mypy
      name: mypy
      entry: "poetry run mypy"
      args: [--strict, "src"]
      language: python
      # use your preferred Python version
      language_version: python3.9
      additional_dependencies: ["mypy==0.910"]
      types: [python]
      # use require_serial so that script
      # is only called once per commit
      require_serial: true
      # Print the number of files as a sanity-check 
      verbose: true
